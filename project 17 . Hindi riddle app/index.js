const paheliyan = [
  { question: "ऐसा कौन सा फल है जिसमें बीज बाहर होते हैं?", answer: "अनार" },
  { question: "किसका नाम लेते ही वह टूट जाता है?", answer: "खामोशी" },
  {
    question: "ऐसा कौन सा जीव है, जो सोते समय एक आंख खोलकर सोता है?",
    answer: "मछली",
  },
  {
    question:
      "ऐसा कौन सा दरवाजा है, जिसे खोलने के लिए चाबी की जरूरत नहीं पड़ती?",
    answer: "कीहोल",
  },
  {
    question:
      "वो कौन सी चीज़ है, जो दिन में तीन बार दिखती है, लेकिन रात में एक भी बार नहीं?",
    answer: "सूरज",
  },
  {
    question: "ऐसा कौन सा शब्द है, जिसमें पहले मां आती है और बाद में पिता?",
    answer: "संपत्ति",
  },
  {
    question: "वो कौन सा जीव है, जो अंडे देता है, पर उसे नहीं सेता?",
    answer: "मछली",
  },
  { question: "ऐसा कौन सा फल है, जो काटने पर भी नहीं कटता?", answer: "संतरा" },
  {
    question: "वो कौन सा पक्षी है, जो अपने ही नाम से पुकारता है?",
    answer: "कोयल",
  },
  {
    question: "ऐसा कौन सा फूल है, जिसे किसी भी रंग में रंग सकते हैं?",
    answer: "गुलाब",
  },
  {
    question: "ऐसा कौन सा जानवर है, जो दिन में सोता है और रात में जागता है?",
    answer: "उल्लू",
  },
  { question: "वो कौन सी चीज़ है, जो बिना काटे नहीं बनती?", answer: "कपड़ा" },
  { question: "वो कौन सी जगह है, जहां दिन और रात नहीं होते?", answer: "सपना" },
  {
    question: "वो कौन सा जानवर है, जिसकी गर्दन बहुत लंबी होती है?",
    answer: "जिराफ",
  },
  {
    question:
      "वो कौन सी चीज़ है, जिसे हर कोई देख सकता है, लेकिन पकड़ नहीं सकता?",
    answer: "सपने",
  },
  {
    question: "वो कौन सी चीज़ है, जो दिन में सोती है और रात में जागती है?",
    answer: "चंद्रमा",
  },
  {
    question: "वो कौन सी चीज़ है, जो सीधी होती है पर कभी झुकती नहीं?",
    answer: "सड़क",
  },
  {
    question: "वो कौन सी चीज़ है, जिसे देखने के बाद भी आप उसे छू नहीं सकते?",
    answer: "सपना",
  },
  {
    question: "वो कौन सा जीव है, जो अंधेरे में भी देख सकता है?",
    answer: "बिल्ली",
  },
  {
    question: "वो कौन सी जगह है, जहां आदमी खुद को भी नहीं देख सकता?",
    answer: "सपना",
  },
  {
    question:
      "वो कौन सी चीज़ है, जो आपको हर दिन मिलती है, पर उसे आप कभी पकड़ा नहीं सकते?",
    answer: "समयन",
  },
  {
    question:
      "पहेली:रंग-बिरंगे होते हम,फूलों में बसते हम,मकरंद के शौकीन,बताओ कौन?",
    answer: "तितली",
  },
  {
    question: "वो कौन सी चीज़ है, जिसे एक बार देख लो तो भूल नहीं सकते?",
    answer: "प्यार",
  },
  {
    question: "लड़की की ऐसी कौन सी चीज़ है जो हमेशा गीली होती है?",
    answer: "जुबान",
  },

  {
    question: "पति का छोटा हो या बड़ा, शादी के बाद पत्नी को लेना ही पड़ता है?",
    answer: "उपनाम",
  },
  {
    question:
      "लोग अपने हाथ का इस्तमाल करते हैं मुझे ऊपर नीचे करने के लिए, मैं बहुत लंबा और बहुत हार्ड हूं। मैं क्या हूँ?",
    answer: "रेलिंग",
  },
  {
    question:
      "एक गाय के पास चार होते हैं, पर एक औरत के पास सिर्फ दो होते हैं। वो क्या है?",
    answer: "जोड़ा",
  },
  {
    question:
      "एक आदमी के पैंट में सबसे बड़ी चीज़ क्या होती है जो एक औरत अपने चेहरे पर नहीं चाहती?",
    answer: "झुर्रियाँ",
  },
  {
    question:
      "एक आदमी के पैंट में सबसे बड़ी चीज़ क्या होती है जो एक औरत अपने चेहरे पर नहीं चाहती?",
    answer: "झुर्रियाँ",
  },
  {
    question:
      "एक आदमी के पैंट में सबसे बड़ी चीज़ क्या होती है जो एक औरत अपने चेहरे पर नहीं चाहती?",
    answer: "झुर्रियाँ",
  },
  {
    question:
      "एक आदमी के पैंट में सबसे बड़ी चीज़ क्या होती है जो एक औरत अपने चेहरे पर नहीं चाहती?",
    answer: "झुर्रियाँ",
  },
  {
    question:
      "सबसे ज़्यादा उपयोगी क्या चीज़ होती है जब वो लंबी और हार्ड होती है?",
    answer: "पढाई",
  },
  {
    question: "ऐसा क्या है जो जितना बड़ा होता है, उतना ही नर्म हो जाता है?",
    answer: "तकिया",
  },
 
  {
    question:
      "ऐसी कौन सी जगह है जहाँ लोग एक दूसरे के करीब होते हैं लेकिन बोल नहीं सकते?",
    answer: "लिफ्ट",
  },
 
  
  {
    question: "ऐसी कौन सी चीज़ है जिसे पहनने पर उतारने का मन नहीं करता?",
    answer: "गहने",
  },
  {
    question:
      "ऐसी कौन सी चीज़ है जो दिखने में पतली होती है, लेकिन काम में मोटी होती है?",
    answer: "रस्सी",
  },
 
  {
    question: "वो कौन सी चीज़ है जो दिन में बार-बार खुलती और बंद होती है?",
    answer: "दरवाज़ा",
  },
  
 
  {
    question:
      "ऐसी कौन सी चीज़ है जिसे लोग हिलाना पसंद करते हैं लेकिन गिरने नहीं देना चाहते?",
    answer: "शराब",
  },
 
];

const hindiChars = [
  "कु, ता, नी, जि, पि, लु, वा, सा, खे, री, ची, बे, की, धि",
  "खि, टी, लु, कु, मा, फू, शी, बि, दे, सा, शी, गि, खा, जु",
  "गु, हि, शा, के, फि, पा, री, सो, नी, ती, ले, वा, हो, रि",
  "मा, नी, दि, सू, री, सा, यु, खे, ची, फु, पी, गो, का, हा",
  "का, जु, शी, नी, के, तु, फू, खि, पा, ली, बे, गो, ची, हा",
  "गि, री, ली, हि, सु, नी, जा, पी, ली, कू, शि, खे, वा, चि",
  "फे, खे, चि, का, नी, बि, ची, ता, यु, लु, हा, ली, शी, शि",
  "पि, ना, ची, खे, तु, फू, ली, बे, गि, पि, के, शि, चा, यि",
  "तू, पी, मा, जु, फि, हि, खि, पि, का, ची, रि, ली, सा, ति",
  "फू, मा, ची, फि, री, खि, ता, पी, बे, खे, जु, गो, वा, ली",
  "खा, बे, तु, ली, का, हि, सा, ति, ची, खे, नी, पि, खि, जु",
  "ली, खि, तु, नी, री, शी, ता, पी, फि, खे, गि, के, सा, वा",
  "का, शि, नी, फि, पी, तु, वा, जु, खि, मा, ली, गि, खे, ची",
  "रि, हि, गि, फि, पी, खि, ता, ली, गो, मा, ची, के, खि, जु",
  "नी, रि, फि, ता, पि, के, खा, ची, शि, ली, तु, खे, वा, मा",
  "शि, खे, ली, पि, ता, फि, जु, हि, मा, के, गि, नी, गो, वा",
  "ता, पि, रि, नी, खे, खि, गि, ली, शि, ची, तु, हि, मा, वा",
  "नी, ता, ली, खे, पि, फि, गि, शि, हि, तु, के, मा, जु, ची",
  "चि, तु, नी, के, पि, फि, शि, गि, मा, खि, हा, ली, ता, वा",
  "रि, नी, खि, पी, ता, फि, शि, हि, गो, ली, खे, पि, गि, जु",
  "फि, ली, शि, पि, गि, खे, नी, रि, तु, ता, हि, के, मा, ची",
  "नी, पि, तु, शि, फि, खे, गि, मा, खि, हि, के, ली, ता, वा",
  "फि, गि, खे, पी, शि, पि, रि, नी, ता, मा, तु, के, हि, ली",
  "शि, ली, ता, पी, रि, नी, खे, खि, गि, हि, फि, तु, के, मा",
  "ता, नी, पि, फि, गि, रि, हि, शि, खि, तु, के, ली, मा, खे",
  "नी, गि, पि, रि, शि, ता, हि, फि, के, ली, खि, खे, तु, मा",
  "फि, ली, के, ता, पी, शि, रि, हि, गि, पि, नी, तु, खि, मा",
  "ता, हि, नी, के, शि, रि, पी, गि, फि, पि, खि, ली, तु, खे",
  "ता, नी, फि, शि, गि, के, पी, हि, पि, खि, ली, रि, तु, खे",
  "फि, पी, नी, शि, ता, हि, गि, के, रि, पि, ली, खि, तु, खे",
  "ता, फि, नी, के, शि, रि, पी, गि, हि, पि, खि, ली, तु, खे",
  "शि, के, नी, फि, ता, हि, गि, पी, पि, खि, ली, रि, तु, खे",
];

let life = document.querySelector(".life"),
  deleteBtn = document.querySelector("#delete-btn"),
  nextBtn = document.querySelector("#next-btn");

let input = document.querySelectorAll(".input input"),
  displayKeys = document.querySelectorAll(".display-keys input");

// Get random paheliya
let paheli = document.querySelector(".paheliya p");
let randomNo, char, firstChar, secondChar, thirdChar, temp;
let count = 0;

function changePaheli() {
  randomNo = Math.floor(38 * Math.random());
  if (temp === randomNo) {
    randomNo = Math.floor(38 * Math.random());
  }
  temp = randomNo;

  paheli.textContent = paheliyan[randomNo].question;

  // find answer charcter

  let ans = paheliyan[randomNo].answer;

  // chech charcter have hindi matra or not

  const matraRegex = /[ा-ौंःृ]/;

  function containsMatra(str) {
    return matraRegex.test(str);
  }

  function madeChar(ans) {
    for (let i = 1; i <= ans.length; i++) {
      char = ans.slice(0, i);

      if (containsMatra(char)) {
        return char;
      }
    }
  }

  firstChar = ans.slice(0, 2);

  if (containsMatra(firstChar)) {
    firstChar = madeChar(firstChar);
    secondChar = ans.slice(2, 4);
    if (containsMatra(secondChar)) {
      secondChar = madeChar(secondChar);
      thirdChar = ans.slice(4, ans.length);
    } else {
      secondChar = ans.slice(2, 3);
      thirdChar = ans.slice(3, ans.length);
    }
  } else {
    firstChar = ans.slice(0, 1);
    secondChar = ans.slice(1, 3);

    if (containsMatra(secondChar)) {
      secondChar = madeChar(secondChar);
      thirdChar = ans.slice(3, ans.length);
    } else {
      secondChar = ans.slice(1, 2);
      thirdChar = ans.slice(2, ans.length);
    }
  }

  // change display random answer char;

  for (let i = 0; i < 14; i++) {
    let randomkeys = Math.floor(Math.random() * 32);
    displayKeys[i].value = hindiChars[randomkeys].split(",")[i];
  }

  const ansKeys = generateThreeUniqueNumbers();

  displayKeys[ansKeys[0]].value = firstChar;
  displayKeys[ansKeys[1]].value = secondChar;
  displayKeys[ansKeys[2]].value = thirdChar;
}

// Getttign Input

// keybored to answer

let j = 0;

for (let i = 0; i < displayKeys.length; i++) {
  displayKeys[i].addEventListener("click", function () {
    if (j < 3) {
      input[j].value = displayKeys[i].value;
      j++;
    }
  });
}

// delete when user click delete

deleteBtn.addEventListener("click", function () {
  if (j > 0) {
    j--;
    input[j].value = "";
  }
});

//generate three random number

function generateThreeUniqueNumbers() {
  let num1 = Math.floor(Math.random() * 14);
  let num2, num3;

  do {
    num2 = Math.floor(Math.random() * 14);
  } while (num2 === num1);

  do {
    num3 = Math.floor(Math.random() * 14);
  } while (num3 === num1 || num3 === num2);

  return [num1, num2, num3];
}

// change keys user click on next btn

nextBtn.addEventListener("click", () => {
  if (
    paheliyan[randomNo].answer ===
    input[0].value + input[1].value + input[2].value
  ) {
    count++;
    alert("answer correct");
    startTimer();
    changePaheli();
  } else if (input[0].value + input[1].value + input[2].value == "") {
    alert("type something");
  } else {
    alert(
      `answer not correct . right answer is : ${paheliyan[randomNo].answer}`
    );
    removeLife();
    changePaheli();
  }

  if (lives <= 0) {
    alert(`Game over! You've score is ${count}`);
    // Optionally, you can reset the game or provide an option to restart
    resetGame();
  }

  input[0].value = input[1].value = input[2].value = "";

  j = 0;
  resetTimer();
});

// wrok on  Alert clock

let timeLeft = 60;
let timerDisplay = document.getElementById("time-left");
let countdown;
let lives = 3;
let lifeIcons = document.querySelectorAll(".life i");

function startTimer() {
  clearInterval(countdown);
  countdown = setInterval(() => {
    timeLeft--;
    timerDisplay.textContent = timeLeft;

    // When the timer reaches 0
    if (timeLeft < 0) {
      clearInterval(countdown);
      removeLife();

      if (lives > 0) {
        alert(`Time's up!  right answer is : ${paheliyan[randomNo].answer}`);
        // Reset or change to the next riddle here
        input[0].value = input[1].value = input[2].value = "";
        j = 0;
        changePaheli();
        resetTimer();
      } else {
        gameOver();
      }
    }
  }, 1000);
}

function resetTimer() {
  timeLeft = 60;
  timerDisplay.textContent = timeLeft;
  startTimer();
}

function removeLife() {
  if (lives > 0) {
    lives--;
    // Update the life icons
    lifeIcons[lives].classList.remove("fa-solid");
    lifeIcons[lives].classList.add("fa-regular");
  }
  if (lives <= 0) {
    gameOver();
  }
}
function resetGame() {
  lives = 3;
  lifeIcons.forEach((icon, index) => {
    icon.classList.remove("fa-regular");
    icon.classList.add("fa-solid");
  });
}

function gameOver() {
  clearInterval(countdown);
  alert(`Game over! Your score is ${count}`);
  resetTimer();
  resetGame();
}

changePaheli();
startTimer();
